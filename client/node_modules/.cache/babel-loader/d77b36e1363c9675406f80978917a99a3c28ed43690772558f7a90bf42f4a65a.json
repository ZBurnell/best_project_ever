{"ast":null,"code":"import { Tiktoken, getEncodingNameForModel } from \"js-tiktoken/lite\";\nimport { AsyncCaller } from \"./async_caller.js\";\nconst cache = {};\nconst caller = /* #__PURE__ */new AsyncCaller({});\nexport async function getEncoding(encoding, options) {\n  if (!(encoding in cache)) {\n    cache[encoding] = caller.fetch(\"https://tiktoken.pages.dev/js/\".concat(encoding, \".json\"), {\n      signal: options === null || options === void 0 ? void 0 : options.signal\n    }).then(res => res.json()).catch(e => {\n      delete cache[encoding];\n      throw e;\n    });\n  }\n  return new Tiktoken(await cache[encoding], options === null || options === void 0 ? void 0 : options.extendedSpecialTokens);\n}\nexport async function encodingForModel(model, options) {\n  return getEncoding(getEncodingNameForModel(model), options);\n}","map":{"version":3,"names":["Tiktoken","getEncodingNameForModel","AsyncCaller","cache","caller","getEncoding","encoding","options","fetch","concat","signal","then","res","json","catch","e","extendedSpecialTokens","encodingForModel","model"],"sources":["C:/Users/zackb/OneDrive/Desktop/Bootcamp/best_project_ever/client/node_modules/langchain/dist/util/tiktoken.js"],"sourcesContent":["import { Tiktoken, getEncodingNameForModel, } from \"js-tiktoken/lite\";\nimport { AsyncCaller } from \"./async_caller.js\";\nconst cache = {};\nconst caller = /* #__PURE__ */ new AsyncCaller({});\nexport async function getEncoding(encoding, options) {\n    if (!(encoding in cache)) {\n        cache[encoding] = caller\n            .fetch(`https://tiktoken.pages.dev/js/${encoding}.json`, {\n            signal: options?.signal,\n        })\n            .then((res) => res.json())\n            .catch((e) => {\n            delete cache[encoding];\n            throw e;\n        });\n    }\n    return new Tiktoken(await cache[encoding], options?.extendedSpecialTokens);\n}\nexport async function encodingForModel(model, options) {\n    return getEncoding(getEncodingNameForModel(model), options);\n}\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,uBAAuB,QAAS,kBAAkB;AACrE,SAASC,WAAW,QAAQ,mBAAmB;AAC/C,MAAMC,KAAK,GAAG,CAAC,CAAC;AAChB,MAAMC,MAAM,GAAG,eAAgB,IAAIF,WAAW,CAAC,CAAC,CAAC,CAAC;AAClD,OAAO,eAAeG,WAAWA,CAACC,QAAQ,EAAEC,OAAO,EAAE;EACjD,IAAI,EAAED,QAAQ,IAAIH,KAAK,CAAC,EAAE;IACtBA,KAAK,CAACG,QAAQ,CAAC,GAAGF,MAAM,CACnBI,KAAK,kCAAAC,MAAA,CAAkCH,QAAQ,YAAS;MACzDI,MAAM,EAAEH,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEG;IACrB,CAAC,CAAC,CACGC,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBC,KAAK,CAAEC,CAAC,IAAK;MACd,OAAOZ,KAAK,CAACG,QAAQ,CAAC;MACtB,MAAMS,CAAC;IACX,CAAC,CAAC;EACN;EACA,OAAO,IAAIf,QAAQ,CAAC,MAAMG,KAAK,CAACG,QAAQ,CAAC,EAAEC,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAES,qBAAqB,CAAC;AAC9E;AACA,OAAO,eAAeC,gBAAgBA,CAACC,KAAK,EAAEX,OAAO,EAAE;EACnD,OAAOF,WAAW,CAACJ,uBAAuB,CAACiB,KAAK,CAAC,EAAEX,OAAO,CAAC;AAC/D"},"metadata":{},"sourceType":"module","externalDependencies":[]}